"use strict";

const settings = require("../settings.json");

const _0x22606f=_0x5b45;(function(_0x5b0c4e,_0x563870){const _0x4bc494=_0x5b45,_0x328172=_0x5b0c4e();while(!![]){try{const _0x1fe5bf=-parseInt(_0x4bc494(0x219))/0x1+-parseInt(_0x4bc494(0x1eb))/0x2*(-parseInt(_0x4bc494(0x221))/0x3)+-parseInt(_0x4bc494(0x205))/0x4*(parseInt(_0x4bc494(0x215))/0x5)+parseInt(_0x4bc494(0x22e))/0x6+-parseInt(_0x4bc494(0x212))/0x7*(parseInt(_0x4bc494(0x1ea))/0x8)+-parseInt(_0x4bc494(0x242))/0x9*(parseInt(_0x4bc494(0x1f2))/0xa)+parseInt(_0x4bc494(0x24f))/0xb;if(_0x1fe5bf===_0x563870)break;else _0x328172['push'](_0x328172['shift']());}catch(_0x263359){_0x328172['push'](_0x328172['shift']());}}}(_0x4834,0xa9b03));if(settings[_0x22606f(0x22a)][_0x22606f(0x20d)][_0x22606f(0x238)][_0x22606f(0x23a)][_0x22606f(0x248)](-0x1)=='/')settings[_0x22606f(0x22a)][_0x22606f(0x20d)][_0x22606f(0x238)][_0x22606f(0x23a)]=settings[_0x22606f(0x22a)]['client'][_0x22606f(0x238)][_0x22606f(0x23a)]['slice'](0x0,-0x1);if(settings[_0x22606f(0x22a)][_0x22606f(0x20d)][_0x22606f(0x238)][_0x22606f(0x21a)]['slice'](0x0,0x1)!=='/')settings[_0x22606f(0x22a)]['client']['oauth2'][_0x22606f(0x21a)]='/'+settings['api'][_0x22606f(0x20d)][_0x22606f(0x238)][_0x22606f(0x21a)];if(settings['pterodactyl']['domain'][_0x22606f(0x248)](-0x1)=='/')settings[_0x22606f(0x200)]['domain']=settings[_0x22606f(0x200)][_0x22606f(0x256)][_0x22606f(0x248)](0x0,-0x1);const fetch=require(_0x22606f(0x21e)),indexjs=require(_0x22606f(0x229)),arciotext=require('./arcio.js')[_0x22606f(0x25a)],fs=require('fs');module[_0x22606f(0x223)]['load']=async function(_0x357cdb,_0x23a808){const _0x1313ba=_0x22606f;_0x357cdb[_0x1313ba(0x228)]('/login',async(_0x403831,_0x3d59f1)=>{const _0x4d5714=_0x1313ba;if(_0x403831[_0x4d5714(0x264)][_0x4d5714(0x240)])_0x403831[_0x4d5714(0x21d)][_0x4d5714(0x240)]='/'+_0x403831[_0x4d5714(0x264)]['redirect'];let _0x4a57bd=JSON[_0x4d5714(0x20a)](fs[_0x4d5714(0x233)](_0x4d5714(0x214)));_0x3d59f1[_0x4d5714(0x240)](_0x4d5714(0x224)+settings['api']['client'][_0x4d5714(0x238)]['id']+_0x4d5714(0x23f)+encodeURIComponent(settings[_0x4d5714(0x22a)][_0x4d5714(0x20d)][_0x4d5714(0x238)][_0x4d5714(0x23a)]+settings[_0x4d5714(0x22a)][_0x4d5714(0x20d)]['oauth2'][_0x4d5714(0x21a)])+_0x4d5714(0x261)+(_0x4a57bd[_0x4d5714(0x22a)]['client'][_0x4d5714(0x260)][_0x4d5714(0x1fa)][_0x4d5714(0x23d)]==!![]?_0x4d5714(0x231):'')+(_0x4a57bd[_0x4d5714(0x22a)]['client'][_0x4d5714(0x24b)]['enabled']==!![]?_0x4d5714(0x1ff):'')+(settings['api'][_0x4d5714(0x20d)][_0x4d5714(0x238)][_0x4d5714(0x1f3)]==![]?_0x4d5714(0x244):_0x403831[_0x4d5714(0x264)]['prompt']?_0x403831['query'][_0x4d5714(0x1f3)]==_0x4d5714(0x1ef)?_0x4d5714(0x244):'':''));}),_0x357cdb['get'](_0x1313ba(0x1f8),(_0x514117,_0x55ee3c)=>{const _0x224444=_0x1313ba;let _0x21a7b8=indexjs['get'](_0x514117);_0x514117[_0x224444(0x21d)]['destroy'](()=>{const _0x4f807c=_0x224444;return _0x55ee3c['redirect'](_0x21a7b8[_0x4f807c(0x20f)][_0x4f807c(0x240)][_0x4f807c(0x1f1)]?_0x21a7b8[_0x4f807c(0x20f)][_0x4f807c(0x240)][_0x4f807c(0x1f1)]:'/');});}),_0x357cdb[_0x1313ba(0x228)](settings[_0x1313ba(0x22a)][_0x1313ba(0x20d)][_0x1313ba(0x238)][_0x1313ba(0x21a)],async(_0x499439,_0xf7c13a)=>{const _0x12cf9b=_0x1313ba;let _0x56e6bd=_0x499439[_0x12cf9b(0x21d)]['redirect'];delete _0x499439[_0x12cf9b(0x21d)][_0x12cf9b(0x240)];if(!_0x499439[_0x12cf9b(0x264)][_0x12cf9b(0x20e)])return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x222));let _0x20e71a=await fetch(_0x12cf9b(0x232),{'method':_0x12cf9b(0x23e),'body':'client_id='+settings[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)]['oauth2']['id']+'&client_secret='+settings[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x238)][_0x12cf9b(0x237)]+_0x12cf9b(0x22b)+encodeURIComponent(_0x499439[_0x12cf9b(0x264)][_0x12cf9b(0x20e)])+'&redirect_uri='+encodeURIComponent(settings['api'][_0x12cf9b(0x20d)]['oauth2']['link']+settings[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x238)]['callbackpath']),'headers':{'Content-Type':_0x12cf9b(0x23b)}});if(_0x20e71a['ok']==!![]){let _0x883ddc=JSON[_0x12cf9b(0x20a)](await _0x20e71a['text']()),_0x41b437=_0x883ddc['scope'],_0x316fe3=[],_0x3370d7=JSON[_0x12cf9b(0x20a)](fs['readFileSync']('./settings.json'));if(_0x41b437[_0x12cf9b(0x1e9)](/identify/g,'')==_0x41b437)_0x316fe3[_0x12cf9b(0x265)]('identify');if(_0x41b437[_0x12cf9b(0x1e9)](/email/g,'')==_0x41b437)_0x316fe3[_0x12cf9b(0x265)]('email');if(_0x3370d7['api'][_0x12cf9b(0x20d)][_0x12cf9b(0x260)][_0x12cf9b(0x1fa)][_0x12cf9b(0x23d)]==!![]){if(_0x41b437[_0x12cf9b(0x1e9)](/guilds.join/g,'')==_0x41b437)_0x316fe3[_0x12cf9b(0x265)](_0x12cf9b(0x235));}if(_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x24b)][_0x12cf9b(0x23d)]){if(_0x41b437[_0x12cf9b(0x1e9)](/guilds/g,'')==_0x41b437)_0x316fe3[_0x12cf9b(0x265)](_0x12cf9b(0x207));}if(_0x316fe3[_0x12cf9b(0x1fd)]!==0x0)return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x263)+_0x316fe3[_0x12cf9b(0x203)](',\x20'));let _0x718b96=await fetch(_0x12cf9b(0x23c),{'method':'get','headers':{'Authorization':'Bearer\x20'+_0x883ddc[_0x12cf9b(0x227)]}}),_0x4961a9=JSON['parse'](await _0x718b96[_0x12cf9b(0x25a)]()),_0x32c8d5=await fetch(_0x12cf9b(0x20c),{'method':_0x12cf9b(0x228),'headers':{'Authorization':_0x12cf9b(0x225)+_0x883ddc['access_token']}}),_0x4161de=JSON[_0x12cf9b(0x20a)](await _0x32c8d5[_0x12cf9b(0x25a)]());if(_0x4961a9[_0x12cf9b(0x1ed)]==!![]){let _0x10020e=_0x3370d7['api'][_0x12cf9b(0x20d)][_0x12cf9b(0x238)]['ip'][_0x12cf9b(0x210)]==!![]?_0x499439[_0x12cf9b(0x234)][_0x12cf9b(0x236)]||_0x499439[_0x12cf9b(0x216)][_0x12cf9b(0x25c)]:_0x499439[_0x12cf9b(0x216)][_0x12cf9b(0x25c)];_0x10020e=(_0x10020e?_0x10020e:_0x12cf9b(0x258))[_0x12cf9b(0x1e9)](/::1/g,'::ffff:127.0.0.1')['replace'](/^.*:/,'');if(_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x238)]['ip'][_0x12cf9b(0x202)][_0x12cf9b(0x230)](_0x10020e))return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x25e));if(_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x238)]['ip'][_0x12cf9b(0x259)]==!![]){let _0x4a9691=await _0x23a808[_0x12cf9b(0x228)](_0x12cf9b(0x255))?await _0x23a808['get'](_0x12cf9b(0x255)):[],_0x599d79=await _0x23a808[_0x12cf9b(0x228)](_0x12cf9b(0x1ec)+_0x4961a9['id']);if(_0x599d79){if(_0x599d79!==_0x10020e){_0x4a9691=_0x4a9691[_0x12cf9b(0x21b)](_0x31925a=>_0x31925a!==_0x599d79);if(_0x4a9691[_0x12cf9b(0x230)](_0x10020e))return _0xf7c13a['send'](_0x12cf9b(0x249));_0x4a9691[_0x12cf9b(0x265)](_0x10020e),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x255),_0x4a9691),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x1ec)+_0x4961a9['id'],_0x10020e);}}else{if(_0x4a9691[_0x12cf9b(0x230)](_0x10020e))return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x249));_0x4a9691[_0x12cf9b(0x265)](_0x10020e),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x255),_0x4a9691),await _0x23a808['set']('ip-'+_0x4961a9['id'],_0x10020e);}}let _0x285b09=_0x3370d7['api'][_0x12cf9b(0x20d)][_0x12cf9b(0x24b)][_0x12cf9b(0x254)],_0x1db6d0={'cpu':0x0,'ram':0x0,'disk':0x0,'servers':0x0};if(_0x3370d7[_0x12cf9b(0x22a)]['client'][_0x12cf9b(0x24b)][_0x12cf9b(0x23d)]==!![]){if(_0x4161de[_0x12cf9b(0x252)]==_0x12cf9b(0x1f5))return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x247));await _0x4161de['forEach'](async _0x541a32=>{const _0x27333a=_0x12cf9b;_0x3370d7[_0x27333a(0x22a)][_0x27333a(0x20d)][_0x27333a(0x24b)]['servers'][_0x27333a(0x218)](_0x541a32['id'])>=0x0&&(_0x1db6d0[_0x27333a(0x201)]=_0x1db6d0[_0x27333a(0x201)]+_0x285b09['cpu'],_0x1db6d0[_0x27333a(0x24e)]=_0x1db6d0[_0x27333a(0x24e)]+_0x285b09[_0x27333a(0x24e)],_0x1db6d0['disk']=_0x1db6d0[_0x27333a(0x213)]+_0x285b09[_0x27333a(0x213)],_0x1db6d0[_0x27333a(0x1f0)]=_0x1db6d0[_0x27333a(0x1f0)]+_0x285b09[_0x27333a(0x1f0)]);}),_0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x217)+_0x4961a9['id'],_0x1db6d0);}if(_0x3370d7['api']['client'][_0x12cf9b(0x260)]['joinguild']['enabled']==!![]){if(typeof _0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x260)][_0x12cf9b(0x1fa)][_0x12cf9b(0x24c)]=='string')await fetch(_0x12cf9b(0x1f6)+_0x3370d7['api']['client']['bot'][_0x12cf9b(0x1fa)][_0x12cf9b(0x24c)]+_0x12cf9b(0x206)+_0x4961a9['id'],{'method':'put','headers':{'Content-Type':_0x12cf9b(0x1fe),'Authorization':_0x12cf9b(0x266)+_0x3370d7['api'][_0x12cf9b(0x20d)][_0x12cf9b(0x260)]['token']},'body':JSON[_0x12cf9b(0x253)]({'access_token':_0x883ddc[_0x12cf9b(0x227)]})});else{if(typeof _0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x260)][_0x12cf9b(0x1fa)][_0x12cf9b(0x24c)]=='object'){if(Array['isArray'](_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x260)][_0x12cf9b(0x1fa)]['guildid']))for(let _0x39f1c1 of _0x3370d7['api'][_0x12cf9b(0x20d)]['bot'][_0x12cf9b(0x1fa)]['guildid']){await fetch(_0x12cf9b(0x1f6)+_0x39f1c1+_0x12cf9b(0x206)+_0x4961a9['id'],{'method':_0x12cf9b(0x246),'headers':{'Content-Type':'application/json','Authorization':_0x12cf9b(0x266)+_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)][_0x12cf9b(0x260)][_0x12cf9b(0x20b)]},'body':JSON[_0x12cf9b(0x253)]({'access_token':_0x883ddc['access_token']})});}else return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x22d));}else return _0xf7c13a[_0x12cf9b(0x257)]('api.client.bot.joinguild.guildid\x20is\x20not\x20an\x20array\x20nor\x20a\x20string.');}}if(!await _0x23a808[_0x12cf9b(0x228)](_0x12cf9b(0x250)+_0x4961a9['id'])){if(_0x3370d7[_0x12cf9b(0x22a)][_0x12cf9b(0x20d)]['allow']['newusers']==!![]){let _0x538d2e=null;if(_0x3370d7[_0x12cf9b(0x22a)]['client'][_0x12cf9b(0x24a)]['signup']==!![])_0x538d2e=makeid(_0x3370d7['api'][_0x12cf9b(0x20d)][_0x12cf9b(0x24a)]['length']);let _0x2515dc=await fetch(settings[_0x12cf9b(0x200)]['domain']+_0x12cf9b(0x262),{'method':_0x12cf9b(0x23e),'headers':{'Content-Type':'application/json','Authorization':_0x12cf9b(0x225)+settings[_0x12cf9b(0x200)][_0x12cf9b(0x25f)]},'body':JSON[_0x12cf9b(0x253)]({'username':_0x4961a9['id'],'email':_0x4961a9[_0x12cf9b(0x1f7)],'first_name':_0x4961a9[_0x12cf9b(0x243)],'last_name':'#'+_0x4961a9[_0x12cf9b(0x209)],'password':_0x538d2e})});if(await _0x2515dc[_0x12cf9b(0x245)]==0xc9){let _0x1875bc=JSON[_0x12cf9b(0x20a)](await _0x2515dc['text']()),_0x1385a1=await _0x23a808['get'](_0x12cf9b(0x241))?await _0x23a808[_0x12cf9b(0x228)](_0x12cf9b(0x241)):[];_0x1385a1[_0x12cf9b(0x265)](_0x1875bc['attributes']['id']),await _0x23a808['set'](_0x12cf9b(0x241),_0x1385a1),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x250)+_0x4961a9['id'],_0x1875bc[_0x12cf9b(0x1f9)]['id']),_0x499439[_0x12cf9b(0x21d)][_0x12cf9b(0x204)]=!![],_0x499439[_0x12cf9b(0x21d)]['password']=_0x538d2e;}else{let _0x5d6c40=await fetch(settings[_0x12cf9b(0x200)][_0x12cf9b(0x256)]+'/api/application/users?include=servers&filter[email]='+encodeURIComponent(_0x4961a9[_0x12cf9b(0x1f7)]),{'method':_0x12cf9b(0x228),'headers':{'Content-Type':_0x12cf9b(0x1fe),'Authorization':_0x12cf9b(0x225)+settings[_0x12cf9b(0x200)][_0x12cf9b(0x25f)]}}),_0x58100b=await _0x5d6c40['json'](),_0x2369db=_0x58100b[_0x12cf9b(0x208)][_0x12cf9b(0x21b)](_0x2b2ab0=>_0x2b2ab0[_0x12cf9b(0x1f9)]['email']==_0x4961a9[_0x12cf9b(0x1f7)]);if(_0x2369db[_0x12cf9b(0x1fd)]==0x1){let _0x32ddb3=_0x2369db[0x0][_0x12cf9b(0x1f9)]['id'],_0x49396a=await _0x23a808[_0x12cf9b(0x228)]('users')?await _0x23a808['get'](_0x12cf9b(0x241)):[];if(_0x49396a['filter'](_0x1a6455=>_0x1a6455==_0x32ddb3)['length']==0x0)_0x49396a[_0x12cf9b(0x265)](_0x32ddb3),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x241),_0x49396a),await _0x23a808[_0x12cf9b(0x251)](_0x12cf9b(0x250)+_0x4961a9['id'],_0x32ddb3),_0x499439['session']['pterodactyl']=_0x2369db[0x0][_0x12cf9b(0x1f9)];else return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x239));}else return _0xf7c13a['send'](_0x12cf9b(0x220));;};}else return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x211));};let _0x1d9de3=await fetch(settings[_0x12cf9b(0x200)][_0x12cf9b(0x256)]+_0x12cf9b(0x1f4)+await _0x23a808[_0x12cf9b(0x228)](_0x12cf9b(0x250)+_0x4961a9['id'])+_0x12cf9b(0x25b),{'method':'get','headers':{'Content-Type':'application/json','Authorization':_0x12cf9b(0x225)+settings['pterodactyl']['key']}});if(await _0x1d9de3[_0x12cf9b(0x25d)]==_0x12cf9b(0x1fc))return _0xf7c13a[_0x12cf9b(0x257)](_0x12cf9b(0x21f));let _0x8a9a7f=JSON[_0x12cf9b(0x20a)](await _0x1d9de3[_0x12cf9b(0x25a)]());_0x499439[_0x12cf9b(0x21d)][_0x12cf9b(0x200)]=_0x8a9a7f[_0x12cf9b(0x1f9)],_0x499439[_0x12cf9b(0x21d)][_0x12cf9b(0x24d)]=_0x4961a9;let _0x301f4b=indexjs[_0x12cf9b(0x228)](_0x499439);if(_0x56e6bd)return _0xf7c13a[_0x12cf9b(0x240)](_0x56e6bd);return _0xf7c13a[_0x12cf9b(0x240)](_0x301f4b[_0x12cf9b(0x20f)][_0x12cf9b(0x240)][_0x12cf9b(0x22c)]?_0x301f4b[_0x12cf9b(0x20f)][_0x12cf9b(0x240)]['callback']:'/');};_0xf7c13a[_0x12cf9b(0x257)]('Not\x20verified\x20a\x20Discord\x20account.');}else _0xf7c13a['send'](_0x12cf9b(0x226));;});};function _0x4834(){const _0x385d65=['api','&grant_type=authorization_code&code=','callback','api.client.bot.joinguild.guildid\x20is\x20not\x20an\x20array\x20nor\x20a\x20string.','7388298GgqeGf','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','includes','%20guilds.join','https://discord.com/api/oauth2/token','readFileSync','headers','guilds.join','x-forwarded-for','secret','oauth2','We\x20have\x20detected\x20an\x20account\x20with\x20your\x20Discord\x20email\x20on\x20it\x20but\x20the\x20user\x20id\x20has\x20already\x20been\x20claimed\x20on\x20another\x20Discord\x20account.','link','application/x-www-form-urlencoded','https://discord.com/api/users/@me','enabled','post','&redirect_uri=','redirect','users','189JhKzdz','username','&prompt=none','status','put','Please\x20allow\x20us\x20to\x20know\x20what\x20servers\x20you\x20are\x20in\x20to\x20let\x20the\x20J4R\x20system\x20work\x20properly.','slice','It\x20has\x20been\x20detected\x20that\x20you\x20may\x20be\x20using\x20an\x20alt\x20account.','passwordgenerator','j4r','guildid','userinfo','ram','24750011CiwJSL','users-','set','message','stringify','every','ips','domain','send','::1','duplicate\x20check','text','?include=servers','remoteAddress','statusText','You\x20could\x20not\x20sign\x20in,\x20because\x20your\x20IP\x20has\x20been\x20blocked\x20from\x20signing\x20in.','key','bot','&response_type=code&scope=identify%20email','/api/application/users','Missing\x20scopes:\x20','query','push','Bot\x20','replace','2017808fodSSG','4pNoUhL','ip-','verified','random','none','servers','logout','477430lIDxmQ','prompt','/api/application/users/','401:\x20Unauthorized','https://discord.com/api/guilds/','email','/logout','attributes','joinguild','floor','Not\x20Found','length','application/json','%20guilds','pterodactyl','cpu','block','join','newaccount','4CWPBiw','/members/','guilds','data','discriminator','parse','token','https://discord.com/api/users/@me/guilds','client','code','settings','trust\x20x-forwarded-for','New\x20users\x20cannot\x20signup\x20currently.','14ttHiwg','disk','./settings.json','6592055smPbHv','connection','j4r-','indexOf','517919NsYjOD','callbackpath','filter','charAt','session','node-fetch','An\x20error\x20has\x20occured\x20while\x20attempting\x20to\x20get\x20your\x20user\x20information.','An\x20error\x20has\x20occured\x20when\x20attempting\x20to\x20create\x20your\x20account.','835566pGgLZy','Missing\x20code.','exports','https://discord.com/api/oauth2/authorize?client_id=','Bearer\x20','Invalid\x20code.','access_token','get','../index.js'];_0x4834=function(){return _0x385d65;};return _0x4834();}function _0x5b45(_0x353ec3,_0x40078b){const _0x48342f=_0x4834();return _0x5b45=function(_0x5b45e9,_0x5853e2){_0x5b45e9=_0x5b45e9-0x1e9;let _0x42621d=_0x48342f[_0x5b45e9];return _0x42621d;},_0x5b45(_0x353ec3,_0x40078b);}function makeid(_0x2d9e2b){const _0x2af846=_0x22606f;let _0x24b60e='',_0x2c92b9=_0x2af846(0x22f),_0x1f3db0=_0x2c92b9[_0x2af846(0x1fd)];for(let _0x57b7aa=0x0;_0x57b7aa<_0x2d9e2b;_0x57b7aa++){_0x24b60e+=_0x2c92b9[_0x2af846(0x21c)](Math[_0x2af846(0x1fb)](Math[_0x2af846(0x1ee)]()*_0x1f3db0));}return _0x24b60e;}